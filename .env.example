# Irisbot Configuration File
# Copy this file to .env and fill in your values
# See .ai/context/CONFIGURATION.md for complete documentation

# =============================================================================
# AUTHENTICATION (REQUIRED)
# =============================================================================
IRIS_EMAIL=your_email@example.com
IRIS_PASSWORD=your_secure_password

# =============================================================================
# IRIS PLATFORM URLs
# =============================================================================
IRIS_BASE_URL=https://iris.infocasas.com.uy
# IRIS_LOGIN_URL=https://iris.infocasas.com.uy/iniciar-sesion
# IRIS_CATALOG_URL=https://iris.infocasas.com.uy/proyectos?country=1&order=promos%2Cpopularity

# =============================================================================
# PROJECT SETTINGS
# =============================================================================
# PROJECT_NAME=irisbot
# BASE_DIR=/path/to/project  # Default: current directory

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# DB_FILENAME=irisbot.db
# DB_DSN=sqlite:///irisbot.db

# =============================================================================
# BROWSER SETTINGS
# =============================================================================
PLAYWRIGHT_HEADLESS=True
# PLAYWRIGHT_TIMEOUT_MS=30000          # 30 seconds

# =============================================================================
# AUTHENTICATION TIMEOUTS
# Separate from scraping timeouts - login requires more time for redirects
# =============================================================================
# AUTH_BUTTON_CLICK_DELAY_MS=2000      # Delay after clicking login (default: 2s)
# AUTH_REDIRECT_TIMEOUT_MS=45000       # Wait for redirect after login (default: 45s)
# AUTH_NETWORKIDLE_TIMEOUT_MS=45000    # Wait for page load after login (default: 45s)

# =============================================================================
# PAGINATION & TIMEOUTS
# =============================================================================
# PAGINATION_LOAD_TIMEOUT_MS=10000     # 10 seconds
# PAGINATION_VISIBILITY_TIMEOUT_MS=3000 # 3 seconds

# =============================================================================
# SCRAPER WAIT TIMES (Performance Tuning)
# These values are BALANCED for speed AND reliability (target: ~2-3s per iteration).
# Decrease for faster scraping (may cause issues); increase for slow connections.
# =============================================================================

# Polling for new content
# POLL_INTERVAL_MS=200                 # Wait between polls (default: 200ms)
# POLL_MAX_ATTEMPTS=15                 # Max polling attempts (default: 15 = 3s total)

# Scrolling delays
# SCROLL_STEP_DELAY_MS=200             # Delay between scroll steps (default: 200ms)
# SCROLL_AFTER_DELAY_MS=300            # Delay after scroll operations (default: 300ms)

# Fallback and retry delays
# NETWORKIDLE_FALLBACK_MS=800          # Fallback when networkidle fails (default: 800ms)
# SCROLL_RETRY_DELAY_MS=500            # Delay before scroll retry (default: 500ms)
# VIEW_SWITCH_DELAY_MS=200             # Delay after view switch (default: 200ms)

# =============================================================================
# NETWORKING & DOWNLOADS
# =============================================================================
# CONCURRENT_DOWNLOADS=5
# DOWNLOAD_TIMEOUT_S=60
# USER_AGENT=irisbot/1.0 (+https://example.com)

# =============================================================================
# RETRY & LIMITS
# =============================================================================
# REQUEST_RETRY_COUNT=3
# REQUEST_RETRY_BACKOFF_S=1.5
# CATALOG_MAX_PAGES=200                # Maximum pagination iterations

# =============================================================================
# LOGGING
# =============================================================================
# LOG_LEVEL=INFO                       # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL

# =============================================================================
# DEBUGGING
# =============================================================================
# PW_PAUSE=0                           # Set to 1 to pause scraper for debugging
# WAIT_FOR_APPROVAL=0                  # Set to 1 to wait for ENTER key before finishing

# =============================================================================
# PERFORMANCE PRESETS
# =============================================================================
# Uncomment one of these sections to use a preset configuration:

# --- DEFAULT (Current balanced settings) ---
# Already set above - targets ~2-3s per iteration with good reliability

# --- FASTER MODE (May cause issues on slow connections) ---
# POLL_INTERVAL_MS=100
# POLL_MAX_ATTEMPTS=10
# SCROLL_STEP_DELAY_MS=150
# SCROLL_AFTER_DELAY_MS=200
# NETWORKIDLE_FALLBACK_MS=500
# SCROLL_RETRY_DELAY_MS=300

# --- CONSERVATIVE MODE (Most reliable, slower) ---
# POLL_INTERVAL_MS=300
# POLL_MAX_ATTEMPTS=20
# SCROLL_STEP_DELAY_MS=400
# SCROLL_AFTER_DELAY_MS=500
# NETWORKIDLE_FALLBACK_MS=1500
# SCROLL_RETRY_DELAY_MS=800

# --- DEBUG MODE (Visible browser, limited pages) ---
# PLAYWRIGHT_HEADLESS=False
# LOG_LEVEL=DEBUG
# CATALOG_MAX_PAGES=3
